 





<div class="d-flex m-0 mt-5 p-2 flex-wrap justify-content-center">
 <div class="d-flex flex-column align-items-center p-2 mx-auto my-2 container-sm border rounded" style="
   max-width: 600px;
   min-height: 200px;
   max-height: 600px;
   overflow-y: auto;
   background-color: #e3f2fd;     
 ">

   <h3 class="mt-2">Students List</h3>
   <div class="accordion accordion-flush" id="accordionPanelsStayOpenExample"    style="width: 90%">
       <!-- Students lists -->
    <% for (student of all_students) {%>
<div class="accordion-item my-2 border border-dark rounded">
   <h2 class="accordion-header" id="<%= student._id %>">
    <button class="accordion-button collapsed " type="button" data-bs-toggle="collapse"
    data-bs-target="#collapse<%= student._id %>" aria-expanded="false"
    aria-controls="collapse<%= student._id %>">
     <span class="fw-semibold text-capitalize">
      <%= student.name %>
      </span>  
      </button>
         </h2>

         <div id="collapse<%= student._id %>" class="accordion-collapse collapse" aria-labelledby="<%= student._id %>"
           data-bs-parent="#accordionExample">
           <div class="accordion-body d-flex flex-column">
             <table class="table table-striped border-dark">
               <tbody>
                 <tr>
                   <td>Name</td>
                   <td>
                     <%= student.name %>
                   </td>
                 </tr>
                 <tr>
                   <td>Email</td>
                   <td>
                     <%= student.email %>
                   </td>
                 </tr>
                 <tr>
                   <td>College</td>
                   <td>
                     <%= student.college %>
                   </td>
                 </tr>
                 <tr>
                   <td>Batch</td>
                   <td>
                     <%= student.batch %>
                   </td>
                 </tr>
                 <tr>
                   <td>Status</td>
                   <td>
                     <%= student.placement_status %>
                   </td>
                 </tr>
                 <tr>
                   <td>DSA score</td>
                   <td>
                     <%= student.dsa_score %>
                   </td>
                 </tr>
                 <tr>
                   <td>Web development score</td>
                   <td>
                     <%= student.webdev_score %>
                   </td>
                 </tr>
                 <tr>
                   <td>React score</td>
                   <td>
                     <%= student.react_score %>
                   </td>
                 </tr>
               </tbody>
             </table>
             <div class="d-flex justify-content-around" style="width: 100%">
               <a href="/v1/student/edit/<%= student.id %>" class="btn btn-outline-success" style="width: 40%">
                 <i class="fa fa-edit"></i> Edit
               </a>
               <a href="/v1/student/delete/<%= student.id %>" class="btn btn-outline-danger" style="width: 40%">
                 <i class="fa fa-trash-o"></i> Delete
               </a>
             </div>
             <div class="mt-3 d-flex border-top flex-column align-items-center" style="width: 100%">
               <h3 class="mt-2">Interviews</h3>
               <table style="width: 100%">
                 <thead>
                   <tr>
                     <th scope="col">Company</th>
                     <th scope="col">Date</th>
                     <th scope="col">Result</th>
                   </tr>
                 </thead>
                 <tbody>
                  <!-- company list in which the student has enrolled -->
                   <% for(interview of student.interviews) {%>
                     <tr class="text-capitalize">
                       <td>
                         <%= interview.company %>
                       </td>
                       <td>
                         <%= interview.date %>
                       </td>
                       <td>
                         <%= interview.result %>
                       </td>
                     </tr>
                     <%} %>
                 </tbody>
               </table>
             </div>
           </div>
         </div>
       </div>
       <%} %>
   </div>
 </div>
 <!-- Interviews section -->
 <div class="d-flex flex-column align-items-center p-2 mx-auto my-2 container-sm border rounded" style="
   max-width: 600px;
   min-height: 200px;
   max-height: 600px;
   overflow-y: auto;
   background-color: #e3f2fd;  
 ">
   <h3 class="mt-2">Scheduled Interviews</h3>
   <div class="accordion accordion-flush" style="width: 90%" id="accordionPanelsStayOpenExample"   >
      
    <!-- all the company for the interview -->
    <% for (interview of all_interviews) {%>
       <div class="accordion-item my-2 border border-dark rounded">
         <h2 class="accordion-header" id="headingOne">
           <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
             data-bs-target="#collapse<%= interview._id %>" aria-expanded="false"
             aria-controls="collapse<%= interview._id %>">
             <span class="fw-semibold font-seigeUi text-uppercase">
               <%= interview.company %>
             </span>
           </button>
         </h2>
         <div id="collapse<%= interview._id %>" class="accordion-collapse collapse" aria-labelledby="headingOne"
           data-bs-parent="#accordionExample">
           <div class="accordion-body d-flex flex-column align-items-center">
             <table class="table">
               <tbody>
                 <tr>
                   <th scope="row">Company</th>
                   <td>
                     <%= interview.company %>
                   </td>
                 </tr>
                 <tr>
                   <th scope="col">Date</th>
                   <td>
                     <%= interview.date %>
                   </td>
                 </tr>
               </tbody>
             </table>
             <div class="d-flex flex-column align-items-center" style="width: 100%">
               <h5>Enrolled students</h5>
               <!-- student enrolled in that particular interview -->
               <% for (i of interview.students) {%>
                 <div class="border border-dark rounded mb-2" style="width: 100%">
                   <table class="table">
                     <tbody>
                       <tr>
                         <td>Name</td>
                         <td>
                           <%= i.student.name %>
                         </td>
                       </tr>
                       <tr>
                         <td>Email</td>
                         <td>
                           <%= i.student.email %>
                         </td>
                       </tr>
                       <tr>
                         <td>Result</td>
                         <td>
                           <%= i.result %>
                         </td>
                       </tr>
                     </tbody>
                   </table>
                   <div class="col text-center">
                     <a href="/v1/interview/delete/<%= i.student.id %>/<%= interview.id %>"
                       class="btn btn-outline-danger ms-2 mb-2" style="width: 40%"><i class="fa fa-trash-o"></i>
                       Delete</a>
                   </div>
                 </div>
                 <%} %>
             </div>
             <div class="d-flex flex-column align-items-center border border-dark rounded p-2 m-2 shadow-sm"
               style="width: 100%">
               <h5 class="mt-2">Add student</h5>
               <form class="container-fluid" action="/v1/interview/enroll/<%= interview.id %>"
                 method="POST">
                 <div class="mb-3">
                   <label for="student_email" class="form-label">Student email</label>
                   <input type="email" class="form-control" id="student_email" aria-describedby="emailHelp"
                     name="email" required />
                 </div>
                 <div class="mb-3">
                   <label for="result" class="form-label">Result</label>
                   <select id="result" class="form-select" name="result" required>
                     <option selected>Pass</option>
                     <option>Fail</option>
                     <option>On Hold</option>
                     <option>Didn't attempt</option>
                   </select>
                 </div>
                 <div class="col text-center">
                   <button type="submit" class="btn btn-outline-success">
                     <i class="fa fa-plus"></i>
                     Add &nbsp;
                 </div>
                 </button>
               </form>
             </div>
             <div class="col text-center">
              <a href="/v1/interview/deleteinterview/<%= interview.id %>"
                class="btn btn-outline-danger ms-2 mb-2" style="width: 80%"><i class="fa fa-trash-o"></i>
                Delete</a>
            </div>
           </div>
         </div>
       </div>
       <%} %>
   </div>
 </div>
</div>
